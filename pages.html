<!DOCTYPE html>

</html>

<head>
    <title>svift_v1</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="styles/app/normalize.css">
    <link rel="stylesheet" href="styles/pages/pages.css">
    <link href="https://fonts.googleapis.com/css?family=Noto+Serif|Open+Sans|Roboto+Mono" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/manifest.json">
    <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="favicon/favicon.ico">
    <meta name="msapplication-config" content="favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
</head>

<body>
    <div class="app">
        <div class='wrapper'>
            <header>
                <a href="index.html">
                    <img src='assets/img/wordmark-dark.png' alt=''>
                </a>
            </header>
            <div class='content'>
                <h1></h1>
                <p class='p1'></p>
                <p class='p2'></p>
                <p class='p3'></p>
            </div>
        </div>
    </div>

    <script src="build/d3.v4.min.js"></script>
    <script>
        d3.json('./pages.json', function (err, data) {
            if (err) { console.log(err); }

            // console.log(d3.entries(data));

            var currentSite = window.location.hash.substr(1);
            console.log(currentSite);


            // addContent('#contact');

            // function addContent(page) {
            //     var site = page.substr(1);
            //     console.log(site);

            //     if (window.location.hash == site) {
            //         var h1 = d3.select('h1').text(site.key);
            //         var p1 = d3.select('.p1').text(site.value.p1);
            //         var p2 = d3.select('.p2').text(site.value.p2);
            //         var p3 = d3.select('.p3').text(site.value.p3);
            //     }
            // }


            // Insert nav
            var ul = d3.select('.app').insert('nav', '.wrapper').append('ul');
            ul.selectAll('.li')
                .data(d3.entries(data)).enter().append('li').append('a')
                .attr('href', function (d) { return '#' + d.value.url })
                .html(function (d) { return d.key })
                .on('click', function (d) {
                    d3.select('.app').attr('id', function () { return d.value.url });
                    // Switch content
                    var key = d.key;
                    var h1 = d3.select('h1').html(key);
                    var p1 = d3.select('.p1').html(d.value.p1);
                    var p2 = d3.select('.p2').html(d.value.p2);
                    var p3 = d3.select('.p3').html(d.value.p3);
                });
        });
    </script>




</body>

</html>